# MODAICS V3.0 â€” COMPREHENSIVE REBUILD PLAN
## Unified Technical, Vision & Design Specification

---

## EXECUTIVE SUMMARY

**The Realization:** Our v2.0 build had the wrong aesthetic entirely.

**What We Built:** Dark Green Porsche (forest greens #0A1F15, luxe gold #D4AF37, chrome metallic)

**What Modaics Actually Is:** Mediterranean warmth (terracotta #C2703E, warm sand #E8D5B7, deep olive #5B6B4A) â€” sun-baked ceramics, natural textiles, editorial lifestyle.

**The Shift:** From "AI-powered marketplace" (tech-first) to "peer-to-peer circular fashion platform where every garment has a story" (story-first, quietly intelligent).

**Mission:** Build a wardrobe mosaic â€” assembled piece by piece, with care. Every piece has a history. Every transaction is a handoff, a note tucked inside the parcel.

---

## PART 1: THE VISION (FROM V6)

### 1.1 Core Philosophy

**"We've forgotten how to love our clothes."**

- 92 million tonnes of textiles to landfill annually
- Average garment worn just 7 times
- Secondhand market: $350B by 2028
- But existing platforms feel transactional, not intentional

**Modaics fills the whitespace:**
- Not youth-first like Depop
- Not luxury-gated like Vestiaire  
- Not bargain-bin like Vinted
- **Curated and warm, community-driven, accessible but not cheap, sustainable but not preachy**

### 1.2 Three Ways to Participate

1. **Buy** â€” Discover pieces curated to your style. Considered selection, not endless scroll.
2. **Sell** â€” Pass along what no longer serves you. Every listing tells the garment's story.
3. **Trade** â€” The oldest form of fashion circularity. Swap directly with others.

### 1.3 Quietly Intelligent Technology

**The best technology is invisible.**

- **Smart Discovery** â€” Matching learns taste (textures, eras, silhouettes), not just filters
- **Fair Pricing** â€” Market data-driven guidance so exchanges feel fair
- **Trust & Verification** â€” Authentication partnerships for provenance
- **The Garment's Story** â€” History, not product description. A handoff.

### 1.4 The Intentional Dresser (Target User)

**Age:** 18-35 (mindset matters more than number)
**Values:** Sustainability as way of life, quality over quantity, community over competition
**Behavior:** Already shops secondhand but wants something more curated, more *them*
**Geographic Focus:** Australia first ($2.6B market, 15% growth) â†’ APAC expansion

### 1.5 Revenue Model

1. **Transaction Commission (8-12%)** â€” Fair fee, scaled by value
2. **Modaics Atelier ($9.99/mo)** â€” Premium tier:
   - Priority placement
   - Advanced analytics
   - Reduced commission (6%)
   - Early feature access
   - Custom storefront
3. **Thoughtful Brand Partnerships** â€” Curated collaborations, not banner ads

### 1.6 The Vision Close

> "Imagine opening your wardrobe and knowing the story of every piece inside it. The linen shirt found on Modaics, listed by a ceramicist in Byron Bay who'd worn it soft over three summers. The wool coat passed along by a student in Melbourne. The silk scarf traded at a swap meet."
> 
> **That's the wardrobe Modaics builds. Not a collection of transactions â€” a mosaic of choices, each one intentional, each one extending the life of something beautiful.**

---

## PART 2: THE DESIGN SYSTEM (FROM DESIGN DIRECTION)

### 2.1 Color Palette â€” Mediterranean Warmth

| Color | Hex | Usage |
|-------|-----|-------|
| **Terracotta** | #C2703E | Primary accent. Buttons, highlights, key callouts. The signature Modaics color. |
| **Warm Sand** | #E8D5B7 | Primary background. Warm, soft, never stark white. |
| **Deep Olive** | #5B6B4A | Secondary accent. Section dividers, supporting text, icons. |
| **Charcoal Clay** | #3B3632 | Primary text. Warm black â€” never pure #000000. |
| **Cream** | #F5F0E8 | Light background variant. Cards, callout boxes. |

**Supporting:**
- Burnt Sienna #A0522D â€” hover states, depth
- Sage #9CAF88 â€” light accents, tags, badges
- Oatmeal #D4C5A9 â€” subtle borders, dividers
- Burgundy #6B2D3E â€” premium features, Atelier (sparingly)

**NEVER USE:**
- Pure white (#FFFFFF) â€” too clinical
- Pure black (#000000) â€” too harsh
- Neon/saturated colors â€” nothing synthetic
- Cool greys or blues â€” everything warm-toned
- Gradients â€” keep flat, matte, tactile

### 2.2 Typography â€” Editorial Warmth

**Recommended:**
- **Headlines:** Freight Display (serif, elegant, slightly vintage) OR Lora (Google Font, free)
- **Body:** Source Sans 3 (humanist sans-serif) OR Nunito (Google Font, rounded)
- **Accents/Labels:** DM Sans OR Inter

**Rules:**
- Headlines large and unhurried â€” let them breathe
- Body: 16â€“18px minimum, line height 1.6â€“1.8
- Never ALL CAPS for more than 2â€“3 words
- Headlines: slightly tight letter-spacing (-0.5 to -1%)
- Labels: slightly loose (+2â€“5%)
- Avoid bold/heavy weights â€” medium at most

### 2.3 Photography Direction

**The Feel:** Natural light, taken by someone who cares.

**DO:**
- Golden hour, soft window light, overcast warmth
- Textural close-ups (weave, grain, buttons, stitching)
- Hands and human touch (folding, wrapping, adjusting)
- Styled environments (linen, wooden chairs, terracotta walls)
- Imperfect beauty (slightly rumpled, lived-in, real)
- Earthy settings (wood, ceramic, dried flowers)
- Warm color grading (+5â€“10% warmth, lifted shadows, soft highlights)

**DON'T:**
- Stark white studio backgrounds
- Flash photography
- Heavily filtered/over-saturated
- Stock photo energy
- Tech/device mockups as heroes
- Flat-lay inventory grids

### 2.4 Layout & Composition

- **Generous margins** â€” at least 15% each side
- **Asymmetric layouts** â€” not everything centered
- **One idea per page** â€” white space is a feature
- **Soft grid** â€” magazine spreads, not rigid 12-column
- **Section dividers:** thin terracotta rule or textural element
- **Pull quotes** â€” compelling lines as large quotes (28â€“36pt)

### 2.5 The Mosaic Motif

**Subtle visual thread throughout:**
- Cover: Mosaic pattern from terracotta, olive, sand tiles â€” modern geometric interpretation
- Section headers: Small mosaic fragment as decorative element
- Photo grid: Mosaic layout â€” different sizes, organic arrangement
- Background: Very subtle, low-opacity mosaic tile pattern

**Whisper, not shout.**

### 2.6 Tone Reference Brands

- **Aesop** â€” warm, literary, substance over flash
- **Patagonia** â€” purpose-driven, honest, earthy
- **Toast (UK)** â€” artisanal, unhurried, beautiful editorial
- **Kinfolk magazine** â€” clean, warm, intentional lifestyle
- **Le Labo** â€” craft-focused, handwritten, no decoration

**Shared thread: They make you slow down.**

---

## PART 3: TECHNICAL ARCHITECTURE

### 3.1 Clean Architecture Layers

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      PRESENTATION LAYER                      â”‚
â”‚  SwiftUI Views â†’ ViewModels â†’ State Management              â”‚
â”‚  - Story-first, not feature-first                           â”‚
â”‚  - Editorial layout, not tech dashboard                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     DOMAIN LAYER                             â”‚
â”‚  Use Cases â†’ Repository Interfaces â†’ Entity Definitions     â”‚
â”‚  - Business logic: Stories, Discovery, Exchange             â”‚
â”‚  - NOT: API endpoints, algorithms, data structures          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     DATA LAYER                               â”‚
â”‚  Repository Implementations â†’ API Clients â†’ Database        â”‚
â”‚  - "Quietly intelligent" â€” invisible enablers               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 Project Structure

```
Modaics/
â”œâ”€â”€ ğŸ“± App/
â”‚   â”œâ”€â”€ ModaicsApp.swift
â”‚   â”œâ”€â”€ ContentView.swift
â”‚   â””â”€â”€ AppDelegate.swift
â”‚
â”œâ”€â”€ ğŸ¨ DesignSystem/
â”‚   â”œâ”€â”€ Colors.swift (Terracotta, Sand, Olive)
â”‚   â”œâ”€â”€ Typography.swift (Freight/Lora, Source Sans)
â”‚   â”œâ”€â”€ Layout.swift (Generous margins, asymmetric)
â”‚   â””â”€â”€ Components/
â”‚       â”œâ”€â”€ MosaicButton.swift (Terracotta accent)
â”‚       â”œâ”€â”€ MosaicCard.swift (Cream background)
â”‚       â”œâ”€â”€ StoryInput.swift (Garment narrative)
â”‚       â””â”€â”€ DiscoveryCard.swift (Editorial layout)
â”‚
â”œâ”€â”€ ğŸ—ï¸ Core/
â”‚   â”œâ”€â”€ Domain/
â”‚   â”‚   â”œâ”€â”€ Entities/
â”‚   â”‚   â”‚   â”œâ”€â”€ User.swift (The Intentional Dresser)
â”‚   â”‚   â”‚   â”œâ”€â”€ Garment.swift (with Story)
â”‚   â”‚   â”‚   â”œâ”€â”€ Exchange.swift (Buy/Sell/Trade)
â”‚   â”‚   â”‚   â”œâ”€â”€ Wardrobe.swift (The Mosaic)
â”‚   â”‚   â”‚   â””â”€â”€ Atelier.swift (Premium tier)
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ UseCases/
â”‚   â”‚   â”‚   â”œâ”€â”€ DiscoverGarments.swift (Smart matching)
â”‚   â”‚   â”‚   â”œâ”€â”€ TellGarmentStory.swift (Listing with narrative)
â”‚   â”‚   â”‚   â”œâ”€â”€ ExchangeGarment.swift (Buy/Sell/Trade)
â”‚   â”‚   â”‚   â”œâ”€â”€ BuildWardrobe.swift (Collection curation)
â”‚   â”‚   â”‚   â””â”€â”€ JoinAtelier.swift (Premium features)
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ RepositoryProtocols/
â”‚   â”‚       â”œâ”€â”€ GarmentRepository.swift
â”‚   â”‚       â”œâ”€â”€ ExchangeRepository.swift
â”‚   â”‚       â”œâ”€â”€ StoryRepository.swift
â”‚   â”‚       â””â”€â”€ AtelierRepository.swift
â”‚   â”‚
â”‚   â””â”€â”€ Data/
â”‚       â”œâ”€â”€ Repositories/
â”‚       â”œâ”€â”€ API/
â”‚       â””â”€â”€ Database/
â”‚
â”œâ”€â”€ ğŸ­ Presentation/
â”‚   â”œâ”€â”€ Common/
â”‚   â”‚   â”œâ”€â”€ EditorialLayout/
â”‚   â”‚   â”œâ”€â”€ PhotoTreatment/
â”‚   â”‚   â””â”€â”€ MosaicMotif/
â”‚   â”‚
â”‚   â”œâ”€â”€ Discovery/
â”‚   â”‚   â”œâ”€â”€ DiscoveryView.swift (Editorial, not grid)
â”‚   â”‚   â”œâ”€â”€ GarmentCard.swift (Photo + story excerpt)
â”‚   â”‚   â””â”€â”€ DiscoveryViewModel.swift
â”‚   â”‚
â”‚   â”œâ”€â”€ Story/
â”‚   â”‚   â”œâ”€â”€ TellStoryView.swift (Garment narrative input)
â”‚   â”‚   â”œâ”€â”€ PhotoCaptureView.swift (Styled capture)
â”‚   â”‚   â””â”€â”€ StoryViewModel.swift
â”‚   â”‚
â”‚   â”œâ”€â”€ Exchange/
â”‚   â”‚   â”œâ”€â”€ ExchangeView.swift (Buy/Sell/Trade)
â”‚   â”‚   â”œâ”€â”€ HandoffView.swift (Transaction ritual)
â”‚   â”‚   â””â”€â”€ ExchangeViewModel.swift
â”‚   â”‚
â”‚   â”œâ”€â”€ Wardrobe/
â”‚   â”‚   â”œâ”€â”€ WardrobeView.swift (The Mosaic)
â”‚   â”‚   â”œâ”€â”€ CollectionView.swift (Curated sets)
â”‚   â”‚   â””â”€â”€ WardrobeViewModel.swift
â”‚   â”‚
â”‚   â”œâ”€â”€ Atelier/
â”‚   â”‚   â”œâ”€â”€ AtelierView.swift (Premium tier)
â”‚   â”‚   â”œâ”€â”€ AnalyticsView.swift (Seller insights)
â”‚   â”‚   â””â”€â”€ AtelierViewModel.swift
â”‚   â”‚
â”‚   â””â”€â”€ Community/
â”‚       â”œâ”€â”€ CirclesView.swift (Style circles)
â”‚       â”œâ”€â”€ SwapMeetView.swift (In-person events)
â”‚       â””â”€â”€ CommunityViewModel.swift
â”‚
â”œâ”€â”€ ğŸ”§ Services/
â”‚   â”œâ”€â”€ AI/
â”‚   â”‚   â”œâ”€â”€ StyleMatching.swift (Quietly intelligent)
â”‚   â”‚   â”œâ”€â”€ PricingGuidance.swift (Fair market data)
â”‚   â”‚   â””â”€â”€ StoryEnhancement.swift (AI-assisted narrative)
â”‚   â”‚
â”‚   â””â”€â”€ Media/
â”‚       â”œâ”€â”€ PhotoEditor.swift (Warm color grading)
â”‚       â””â”€â”€ Cache.swift
â”‚
â””â”€â”€ ğŸ§ª Tests/
```

### 3.3 Complete Entity Definitions

```swift
// MARK: - Garment (The Core Entity)

struct Garment: Identifiable, Codable, Hashable {
    let id: String
    let ownerId: String
    
    // The Basics
    let title: String
    let category: GarmentCategory
    let condition: GarmentCondition
    let size: String
    let brand: String?
    
    // The Story (CRITICAL)
    let story: GarmentStory
    let provenance: Provenance?
    
    // Visuals
    let photos: [GarmentPhoto]
    let primaryPhotoIndex: Int
    
    // The Exchange
    let exchangeType: ExchangeType // .buy, .sell, .trade
    let price: Price?
    let tradePreferences: [GarmentCategory]?
    
    // Discovery
    let styleAttributes: StyleAttributes
    let embedding: [Float]? // For visual similarity
    
    // Community
    let viewCount: Int
    let saveCount: Int
    let createdAt: Date
    let expiresAt: Date?
}

// MARK: - Garment Story (The Heart of Modaics)

struct GarmentStory: Codable, Hashable {
    let narrative: String // "Found this linen shirt at a market in Lisbon..."
    let history: String? // Previous owners, alterations, repairs
    let whySelling: String? // "It no longer fits my style, but deserves more summers"
    let careInstructions: String?
    let memories: [StoryMemory]?
}

struct StoryMemory: Codable, Hashable {
    let description: String
    let photoId: String?
}

// MARK: - Provenance (Where It Came From)

struct Provenance: Codable, Hashable {
    let source: ProvenanceSource // .vintage, .thrift, .designer, .handmade
    let location: String? // "Byron Bay, Australia"
    let era: String? // "1970s"
    let authenticity: AuthenticityStatus
}

// MARK: - Exchange Types

enum ExchangeType: String, Codable, CaseIterable {
    case buy = "buy"
    case sell = "sell"
    case trade = "trade"
    
    var displayName: String {
        switch self {
        case .buy: return "Buy"
        case .sell: return "Sell"
        case .trade: return "Trade"
        }
    }
    
    var icon: String {
        switch self {
        case .buy: return "bag.fill"
        case .sell: return "tag.fill"
        case .trade: return "arrow.left.arrow.right"
        }
    }
}

// MARK: - Price (Fair Pricing)

struct Price: Codable, Hashable {
    let amount: Double
    let currency: String
    let guidance: PricingGuidance?
    let negotiable: Bool
}

struct PricingGuidance: Codable, Hashable {
    let estimatedRange: ClosedRange<Double>
    let basedOn: [PricingFactor]
    let confidence: Double // 0.0 - 1.0
}

enum PricingFactor: String, Codable {
    case brandValue
    case condition
    case rarity
    case demand
    case comparableSales
}

// MARK: - Style Attributes (For Discovery)

struct StyleAttributes: Codable, Hashable {
    let textures: [Texture]
    let era: Era?
    let silhouette: Silhouette?
    let colors: [DominantColor]
    let mood: [Mood]
}

enum Texture: String, Codable, CaseIterable {
    case linen, silk, wool, cotton, leather, denim, velvet
}

enum Era: String, Codable, CaseIterable {
    case vintage1970s = "1970s"
    case vintage1980s = "1980s"
    case vintage1990s = "1990s"
    case y2k = "Y2K"
    case contemporary = "Contemporary"
}

enum Mood: String, Codable, CaseIterable {
    case minimal, bohemian, preppy, edgy, romantic, utilitarian
}

// MARK: - Wardrobe (The Mosaic)

struct Wardrobe: Identifiable, Codable {
    let id: String
    let ownerId: String
    let name: String // "My Summer Mosaic"
    let garments: [WardrobeGarment]
    let collections: [Collection]
    let story: String? // "Built over three years of careful curation..."
    let sustainabilityScore: SustainabilityScore
}

struct SustainabilityScore: Codable {
    let totalScore: Int // 0-100
    let garmentsSaved: Int
    let carbonOffset: Double // kg CO2
    let waterSaved: Double // liters
}
```

### 3.4 AI/ML Architecture â€” "Quietly Intelligent"

```swift
// MARK: - Style Discovery (Not Search)

protocol StyleDiscoveryService {
    /// Learns user's style from interactions, not explicit filters
    func learn(from interactions: [UserInteraction]) async
    
    /// Surfaces garments that "feel right" â€” not keyword matches
    func discover(for userId: String) async throws -> [GarmentRecommendation]
}

struct GarmentRecommendation {
    let garment: Garment
    let reason: RecommendationReason // Why this feels right
    let confidence: Double
}

enum RecommendationReason {
    case textureMatch // "You seem to love linen..."
    case eraMatch // "1970s pieces catch your eye..."
    case silhouetteMatch // "Relaxed fits work for you..."
    case storyResonance // "This narrative might speak to you..."
    case curatorPick // "Hand-selected for your style..."
}

// MARK: - Fair Pricing (Not Algorithm)

protocol PricingGuidanceService {
    /// Provides pricing guidance that "feels fair" â€” transparent market data
    func guidance(for garment: Garment) async throws -> PricingGuidance
}

// MARK: - Story Enhancement (AI-Assisted, Not AI-Written)

protocol StoryEnhancementService {
    /// Suggests story elements based on photos â€” user decides
    func suggestions(for photos: [GarmentPhoto]) async throws -> StorySuggestions
    
    /// Helps with wording â€” keeps human voice
    func refine(narrative: String) async throws -> String
}

struct StorySuggestions {
    let possibleTextures: [Texture]
    let possibleEra: Era?
    let suggestedPrompts: [String] // "Tell us about where you found this..."
}
```

---

## PART 4: FEATURE ROADMAP

### Phase 1: Foundation (Weeks 1-4)
**Goal:** Working app that feels like Modaics

**Features:**
1. âœ… Splash/Onboarding (Mosaic animation, Terracotta accent)
2. âœ… Firebase Auth (Email, Apple, Google)
3. âœ… Discovery Feed (Editorial layout, not grid)
4. âœ… Garment Story Input (Narrative-first listing)
5. âœ… Photo Capture (Styled for warmth)
6. âœ… Basic Exchange (Buy/Sell/Trade)
7. âœ… Wardrobe View (The Mosaic)

**Design System:**
- All colors implemented (Terracotta, Sand, Olive, Charcoal)
- Typography (Lora + Nunito)
- Editorial layouts
- Generous margins
- NO gradients

### Phase 2: Intelligence (Weeks 5-8)

**Features:**
1. Style Discovery (Quietly intelligent matching)
2. Fair Pricing Guidance (Market data)
3. AI Story Enhancement (Suggestions, not replacement)
4. Saved/Favorites
5. Basic Messaging (The handoff)

### Phase 3: Community (Weeks 9-12)

**Features:**
1. Following/Followers
2. Style Circles
3. Collections/Curation
4. Swap Meet Events (In-person gatherings)
5. Sustainability Score

### Phase 4: Atelier (Weeks 13-16)

**Features:**
1. Premium Subscription
2. Advanced Analytics
3. Custom Storefront
4. Priority Placement
5. Verification Partnerships

---

## PART 5: BACKEND SPECIFICATION

### 5.1 FastAPI Structure

```python
app/
â”œâ”€â”€ main.py
â”œâ”€â”€ config.py
â”œâ”€â”€ routers/
â”‚   â”œâ”€â”€ discovery.py      # Style matching, not search
â”‚   â”œâ”€â”€ stories.py        # Garment narratives
â”‚   â”œâ”€â”€ exchange.py       # Buy/Sell/Trade
â”‚   â”œâ”€â”€ wardrobes.py      # The Mosaic
â”‚   â”œâ”€â”€ atelier.py        # Premium features
â”‚   â””â”€â”€ community.py      # Circles, events
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ garment.py        # With story JSON field
â”‚   â”œâ”€â”€ exchange.py
â”‚   â”œâ”€â”€ wardrobe.py
â”‚   â””â”€â”€ atelier.py
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ style_matching.py # CLIP + behavioral
â”‚   â”œâ”€â”€ pricing.py        # Market data aggregation
â”‚   â”œâ”€â”€ story_ai.py       # GPT-4 for enhancement
â”‚   â””â”€â”€ verification.py   # Authentication partners
â””â”€â”€ utils/
    â””â”€â”€ embeddings.py
```

### 5.2 Database Schema (PostgreSQL)

```sql
-- Garments table with story as first-class citizen
CREATE TABLE garments (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    owner_id UUID REFERENCES users(id),
    
    -- The Basics
    title TEXT NOT NULL,
    category TEXT NOT NULL,
    condition TEXT NOT NULL,
    size TEXT NOT NULL,
    brand TEXT,
    
    -- The Story (JSONB for flexibility)
    story JSONB NOT NULL,
    provenance JSONB,
    
    -- Exchange
    exchange_type TEXT NOT NULL, -- 'buy', 'sell', 'trade'
    price DECIMAL(10,2),
    trade_preferences TEXT[],
    
    -- Discovery
    style_attributes JSONB,
    embedding VECTOR(512),
    
    -- Community
    view_count INT DEFAULT 0,
    save_count INT DEFAULT 0,
    created_at TIMESTAMP DEFAULT NOW(),
    
    -- Full-text search on stories
    search_vector TSVECTOR
);

-- Enable story search
CREATE INDEX idx_garments_search ON garments USING GIN(search_vector);

-- Style matching with pgvector
CREATE INDEX idx_garments_embedding ON garments 
USING ivfflat (embedding vector_cosine_ops);

-- Wardrobes (The Mosaic)
CREATE TABLE wardrobes (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    owner_id UUID REFERENCES users(id),
    name TEXT NOT NULL,
    story TEXT,
    sustainability_score JSONB,
    created_at TIMESTAMP DEFAULT NOW()
);

-- Collections within wardrobes
CREATE TABLE collections (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    wardrobe_id UUID REFERENCES wardrobes(id),
    name TEXT NOT NULL,
    description TEXT,
    garment_ids UUID[]
);
```

---

## PART 6: KEY PRINCIPLES

### 6.1 Design Principles

1. **Warm over white** â€” Never #FFFFFF
2. **Tactile over digital** â€” No gradients, no neon
3. **Editorial over e-commerce** â€” Magazine spreads, not grids
4. **Asymmetric over centered** â€” Visual interest
5. **Generous over cramped** â€” 15%+ margins
6. **Mosaic over grid** â€” Organic arrangements

### 6.2 Copy Principles (From Changelog)

| Don't Use | Use Instead |
|-----------|-------------|
| Revolutionize | (Remove) |
| Seamless experience | Effortless and human |
| Game-changer | (Remove) |
| Leverage/utilize | Use/draw on |
| Disrupt | (Remove) |
| Users | Members/people |
| Items/products | Pieces/garments |
| Listing | Story |
| Monetize | Sustain |
| Scalable | (Show, don't tell) |
| Innovative | Thoughtful |
| Ecosystem | Community/gathering |
| Onboard | Welcome/invite |
| Pain point | (Describe naturally) |

### 6.3 Technical Principles

1. **Build bottom-up** â€” Models â†’ Services â†’ ViewModels â†’ Views
2. **Single source of truth** â€” One definition per type
3. **Complete before complex** â€” Finish MVP before features
4. **Test everything** â€” Unit, integration, UI
5. **Quietly intelligent** â€” AI enables, doesn't headline

---

## PART 7: NEXT STEPS

### Immediate Actions:

1. âœ… **Read & approve this plan** â€” Confirm alignment
2. ğŸ¨ **Create design system** â€” Colors, typography, components
3. ğŸ—ï¸ **Build core models** â€” Garment, Story, Exchange, Wardrobe
4. ğŸ“± **Implement Phase 1 features** â€” Foundation app
5. ğŸ¤– **Add intelligence** â€” Style matching, pricing, story AI

### Success Metrics:

- **Week 4:** Working app with Terracotta aesthetic, story-first listing
- **Week 8:** Style discovery feels "quietly intelligent"
- **Week 12:** Community features (circles, collections) active
- **Week 16:** Atelier premium tier launched

---

## CONCLUSION

**This plan synthesizes:**
- V6 Vision (story-first, Intentional Dresser, "quietly intelligent")
- Design Direction (Mediterranean warmth, editorial, mosaic motif)
- Technical Architecture (clean, scalable, maintainable)
- Lessons from v2.0 (build bottom-up, complete definitions, test everything)

**The shift:** From "AI-powered marketplace" to "peer-to-peer circular fashion platform where every garment has a story."

**The aesthetic:** From Dark Green Porsche to Mediterranean warmth.

**The timeline:** 16 weeks to full feature set, 4 weeks to working MVP.

---

*Ready to build the wardrobe you want to open.*

ğŸ‰ **Alfred â€” Your Strategic Partner**
